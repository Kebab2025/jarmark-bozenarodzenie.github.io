<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Kasa ≈öwiƒÖteczna</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  #panelLogowania, #panelKasy { max-width: 500px; margin: 0 auto; }
  #panelKasy { display: none; }
  input, button { padding: 10px; margin: 5px 0; width: 100%; }
  pre { background: #f5f5f5; padding: 10px; border-radius: 6px; }
  .naglowek { text-align: center; margin-bottom: 20px; }
</style>
</head>
<body>

<div id="panelLogowania">
  <h2>üîê Logowanie do kasy</h2>
  <input type="text" id="login" placeholder="Login">
  <input type="password" id="haslo" placeholder="Has≈Ço">
  <button onclick="zaloguj()">Zaloguj</button>
  <p id="blad" style="color:red;"></p>
</div>

<div id="panelKasy">
  <div class="naglowek">
    <h1>üéÑ Kasa ≈öwiƒÖteczna üéÅ</h1>
    <p id="zalogowany"></p>
    <p id="czas"></p>
  </div>

  <div>
    <button onclick="dodaj('f')">Frytki ma≈Çe (8 z≈Ç)</button>
    <button onclick="dodaj('F')">Frytki du≈ºe (12 z≈Ç)</button>
    <button onclick="dodaj('c')">GorƒÖca czekolada (9 z≈Ç)</button>
    <button onclick="dodaj('g')">Gofr suchy (10 z≈Ç)</button>
  </div>

  <h3>Koszyk:</h3>
  <pre id="koszyk">Koszyk jest pusty</pre>

  <button onclick="generujParagon()">üßæ Wystaw paragon</button>
  <button onclick="resetuj()">‚ùå Resetuj</button>

  <h3>Paragon:</h3>
  <pre id="paragon"></pre>
</div>

<script>
const produkty = {
  "f": ["Frytki ma≈Çe", 8],
  "F": ["Frytki du≈ºe", 12],
  "c": ["GorƒÖca czekolada", 9],
  "g": ["Gofr suchy", 10]
};

let zamowienie = {};
let numer = 1;
let uzytkownik = "";

function zaloguj() {
  const login = document.getElementById("login").value;
  const haslo = document.getElementById("haslo").value;

  if ((login === "kasjer" && haslo === "1234") || (login === "admin" && haslo === "admin")) {
    uzytkownik = login;
    document.getElementById("panelLogowania").style.display = "none";
    document.getElementById("panelKasy").style.display = "block";
    document.getElementById("zalogowany").textContent = "Zalogowany jako: " + login;
    startZegar();
  } else {
    document.getElementById("blad").textContent = "B≈Çƒôdny login lub has≈Ço!";
  }
}

function startZegar() {
  setInterval(() => {
    const teraz = new Date();
    document.getElementById("czas").textContent = teraz.toLocaleString();
  }, 1000);
}

function dodaj(kod) {
  if (!zamowienie[kod]) zamowienie[kod] = 0;
  zamowienie[kod]++;
  aktualizujKoszyk();
}

function aktualizujKoszyk() {
  let tekst = "";
  let suma = 0;
  if (Object.keys(zamowienie).length === 0) {
    tekst = "Koszyk jest pusty";
  } else {
    for (let kod in zamowienie) {
      let [nazwa, cena] = produkty[kod];
      let ilosc = zamowienie[kod];
      let koszt = ilosc * cena;
      suma += koszt;
      tekst += `${ilosc}x ${nazwa} = ${koszt} z≈Ç\n`;
    }
    tekst += "\nSuma: " + suma + " z≈Ç";
  }
  document.getElementById("koszyk").textContent = tekst;
}

function generujParagon() {
  let suma = 0;
  let linie = "==============================\n";
  linie += "üéÑ  KASA ≈öWIƒÑTECZNA  üéÅ\n";
  linie += "Zam√≥wienie nr " + numer + "\n";
  linie += "Kasjer: " + uzytkownik + "\n";
  linie += new Date().toLocaleString() + "\n";
  linie += "------------------------------\n";

  for (let kod in zamowienie) {
    let [nazwa, cena] = produkty[kod];
    let ilosc = zamowienie[kod];
    let koszt = cena * ilosc;
    suma += koszt;
    linie += `${ilosc}x ${nazwa.padEnd(20)} ${koszt} z≈Ç\n`;
  }

  linie += "------------------------------\n";
  linie += "SUMA: " + suma + " z≈Ç\n";
  linie += "==============================\n";

  document.getElementById("paragon").textContent = linie;
  numer++;
  zamowienie = {};
  aktualizujKoszyk();
}

function resetuj() {
  zamowienie = {};
  document.getElementById("koszyk").textContent = "Koszyk jest pusty";
  document.getElementById("paragon").textContent = "";
}
</script>
</body>
</html>
